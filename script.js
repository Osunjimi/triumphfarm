document.addEventListener('DOMContentLoaded', function(){ document.querySelectorAll('a[href^="#"]').forEach(function(a){ a.addEventListener('click', function(e){ var href = this.getAttribute('href'); if(href.startsWith('#')){ e.preventDefault(); var t=document.querySelector(href); if(t) t.scrollIntoView({behavior:'smooth'}); } }); }); var form = document.getElementById('contactForm'); if(form){ form.addEventListener('submit', async function(e){ e.preventDefault(); if(document.getElementById('_gotcha').value) return; var data = Object.fromEntries(new FormData(form).entries()); try{ var res = await fetch(form.action, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data)}); if(res.ok){ alert('Message sent — we will contact you shortly.'); form.reset(); } else { alert('Submission failed — try WhatsApp.'); } }catch(err){ alert('Network error — try WhatsApp.'); } }); } var calcForm = document.getElementById('feedCalc'); if(calcForm){ calcForm.addEventListener('submit', function(e){ e.preventDefault(); var number = Number(document.getElementById('fc_number').value) || 0; var avgWeight = Number(document.getElementById('fc_weight').value) || 0; var feedRate = Number(document.getElementById('fc_feedrate').value) || 5; var dailyKg = (number * avgWeight * feedRate) / 1000 / 100; var monthlyKg = dailyKg * 30; document.getElementById('fc_result').innerText = 'Daily feed ≈ ' + dailyKg.toFixed(2) + ' kg — Monthly ≈ ' + monthlyKg.toFixed(2) + ' kg'; }); }
});